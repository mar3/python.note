#!/usr/bin/python
# coding: utf-8
#
#
#
# 2014-05-08
#
# Python で RSS を読み込むサンプルです。
#
#
#
#
#

import os
import sys
import feedparser
import getopt
import time
import datetime






###############################################################################
###############################################################################
###############################################################################
###############################################################################
###############################################################################
###############################################################################
class out:

	@staticmethod
	def println(*arguments):
		
		xwrite = sys.stdout.write
		for x in arguments:
			xwrite(str(x))
		xwrite("\n")






###############################################################################
###############################################################################
###############################################################################
###############################################################################
###############################################################################
###############################################################################
class util:

	# タイムスタンプを返します。
	# "yyyy-mm-dd hh:mm:ss.xxxxxx"
	@staticmethod
	def timestamp():

		x = datetime.datetime.now();
		return x.isoformat(' ');






###############################################################################
###############################################################################
###############################################################################
###############################################################################
###############################################################################
###############################################################################
class logger:

	@staticmethod
	def info(*x):

		out.println(util.timestamp(), ' ', *x)





###############################################################################
###############################################################################
###############################################################################
###############################################################################
###############################################################################
###############################################################################
class rssreader:

	@staticmethod
	def get(url):

		out.println(url)
		
		feed = feedparser.parse(url)

		if False:
			for item in feed:
				fields = feed[item]
				out.println(item, ' ', fields)

		for entry in feed['entries']:
			published = entry['published']
			title = entry['title'].encode('utf_8')
			link = entry['link'].encode('utf_8')
			out.println(published, ', ', title, ', ', link)

		return







###############################################################################
###############################################################################
###############################################################################
###############################################################################
###############################################################################
###############################################################################
class main:

	@staticmethod
	def main():

		logger.info('### start ###')

		url = "http://rss.dailynews.yahoo.co.jp/fc/world/rss.xml"

		rssreader.get(url)

		logger.info('--- end ---')


main.main()
